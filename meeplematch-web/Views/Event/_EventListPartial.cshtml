@model IEnumerable<meeplematch_web.Models.EventViewModel>

@foreach (var item in Model)
{
    <div class="one-card col-12 col-sm-6 col-lg-3">
        <div class="card h-100 shadow-sm" data-aos="flip-right" data-aos-duration="1500">
            <img src="@(!string.IsNullOrEmpty(item.ImagePath) ? item.ImagePath : Url.Content("~/assets/images/game_night_placeholder.png"))"
                 class="card-img-top event-img" />

            <div class="card-body d-flex flex-column">
                <h5 class="card-title text-black">@item.Name</h5>
                <h6 class="card-subtitle mb-2 text-muted">
                    @item.EventDate.ToString("ddd, dd MMMM - HH:mm") h
                </h6>
                <p class="card-text mb-1 text-black">
                    <strong>Hosted by:</strong> @(item.CreatedByNavigation?.Username ?? "Unknown") 
                </p>
                <p class="card-text text-muted" style="font-size: 0.875rem;">
                    Game: @item.Game<br />
                    Type: @item.Type<br />
                    Location: @item.Location
                </p>
                <p class="mt-auto text-black">
                    <strong>@item.NumberOfParticipants/@item.Capacity</strong> players registered
                </p>
                <div class="mt-2 text-center">
                    <a asp-action="Details" asp-route-id="@item.IdEvent" class="btn btn-sm btn-outline-primary">Details</a>

                    @if (User.Identity.IsAuthenticated && User.Identity.Name.Equals(item.CreatedByNavigation?.Username))
                    {
                        <a asp-action="Edit" asp-route-id="@item.IdEvent" class="btn btn-sm btn-outline-secondary">Edit</a>
                        <a class="btn btn-sm btn-outline-danger" href="/Event/Delete/@item.IdEvent">Delete</a>
                    }
                </div>
            </div>
        </div>
    </div>
}